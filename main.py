print("Ты просыпаешься в тёмной комнате. Перед тобой две двери: левая и правая.")

choice1 = input("Какую дверь откроешь? (левая/правая) ").strip().lower()

if choice1 == "левая":
    print("Ты вошёл в комнату с сундуком.")
    choice2 = input("Открыть сундук? (да/нет) ").strip().lower()

    if choice2 == "да":
        print("В сундуке монстр! Он рычит на тебя.")
        choice3 = input("Будешь драться? (да/нет) ").strip().lower()

        if choice3 == "да":
            print("Ты победил монстра! Конец квеста — победа.")
        else:
            print("Ты убежал, но потерял путь обратно. Конец квеста.")
    else:
        print("Ты прошёл мимо сундука и нашёл выход. Конец квеста — спасение.")

elif choice1 == "правая":
    print("В комнате темно и тихо. На столе лежит книга.")
    choice2 = input("Открыть книгу? (да/нет) ").strip().lower()

    if choice2 == "да":
        print("Книга оказалась заколдованной и поглотила тебя. Конец квеста.")
    else:
        print("Ты оставил книгу и нашёл тайный проход.")
        choice3 = input("Пойти по проходу? (да/нет) ").strip().lower()

        if choice3 == "да":
            print("Проход вывел тебя к сокровищам! Конец квеста — победа.")
        else:
            print("Ты вернулся назад и заблудился. Конец квеста.")

else:
    print("Ты не выбрал дверь и остался в комнате навсегда. Конец квеста.")

