def choose(prompt, options):
    while True:
        ans = input(prompt)
        if ans in options:
            return ans
        print("Неверный выбор! Попробуйте снова.")


def club():
    print("Я решил, что мы поедем в ночной клуб. Я оделся и вышел из дома.")
    choice = choose("Как мы доберёмся? (машина/такси) ", ["машина", "такси"])

    if choice == "машина":
        print("Сели в машину, запустились и поехали в клуб.")
        print("Доехали до клуба, видим весёлую компанию внутри.")
        action = choose("Что делать? (сидеть у бара/потанцевать/познакомиться) ",
                        ["сидеть у бара", "потанцевать", "познакомиться"])

        if action == "сидеть у бара":
            print("Попробовали все фирменные коктейли. Машину оставили у клуба — домой поехали на такси.")
        elif action == "потанцевать":
            print("Танцуем до закрытия! Уезжаем на машине в утренний туман.")
        else:
            print("Познакомились с интересной компанией и укатили продолжать вечер в приватной обстановке.")
    elif choice == "такси":
        print("Таксист со сломанным навигатором увёз нас не туда. Вечер закончился разочарованием.")


def casino():
    print("Мы решили поехать в казино — вкусно поесть и развлечься!")
    choice = choose("На чём поедем? (машина/такси) ", ["машина", "такси"])

    if choice == "машина":
        print("Доехали до казино, вкусно покушали на фуршете...")
        print("Дошло дело до рулетки!")
        color = choose("На какой цвет ставим? (красное/черное) ",
                       ["красное", "черное"])

        if color == "красное":
            print("Чёрт... выпало чёрное. Уехал домой без денег и настроения.")
        elif color == "черное":
            print("Чёрт... выпало красное. Уехал домой без денег и настроения.")
        else:
            print("Фишки случайно оказались на зелёном! Волей удачи — крупный выигрыш! Возвращаюсь домой с пачкой денег.")
    elif choice =="такси":
        print("Я вбил не тот адрес! Такси увезло в ночной клуб. Вечер испорчен — пришлось идти домой пешком.")


def main():
    while True:
        print("\nВечер после знойного дня... Мне позвонил друг и позвал развлечься.")
        choice = choose("Куда едем??? (тетка/тайгердекристалл) ",
                        ["тетка", "тайгердекристалл"])

        if choice == "тетка":
            club()
        elif choice == "тайгердекристалл":
            casino()
        game = input("Хотите сыграть снова? (y,n)")
        if game == "n":
            break

main()
